<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Asian Basil | Nepali Restaurant</title>

<style>
:root{
  --bg:#0f1411;
  --panel:#151c17;
  --border:#243028;
  --text:#eef3ee;
  --muted:#9fb2a3;
  --accent:#8fbf9b;
  --gold:#d4af37;
  --radius:18px;
}

/* RESET */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:linear-gradient(180deg,#0c120f,#121a15);
  color:var(--text);
}

/* HEADER */
header{
  padding:90px 20px 70px;
  text-align:center;
}
header h1{
  font-size:54px;
  letter-spacing:-1px;
}
header p{
  color:var(--muted);
  letter-spacing:.25em;
  font-size:12px;
}

/* NAV */
nav{
  position:sticky;
  top:0;
  backdrop-filter:blur(12px);
  background:rgba(15,20,17,.9);
  border-bottom:1px solid var(--border);
  display:flex;
  justify-content:center;
  gap:30px;
  padding:18px;
  z-index:50;
}
nav a{
  color:var(--muted);
  text-decoration:none;
  font-size:12px;
  letter-spacing:.15em;
}

/* SECTIONS */
section{
  max-width:1400px;
  margin:auto;
  padding:90px 24px;
}
section h2{
  font-size:30px;
  margin-bottom:50px;
  letter-spacing:.08em;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:40px;
}

/* CARD */
.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
  cursor:pointer;
  transition:.3s;
}
.card:hover{transform:translateY(-6px)}
.card img{
  width:100%;
  height:200px;
  object-fit:cover;
}
.card-body{
  padding:20px;
}
.card-body h3{margin:0 0 6px}
.card-body span{color:var(--gold)}

/* CART BUTTON */
#cartBtn{
  position:fixed;
  right:30px;
  bottom:30px;
  background:var(--gold);
  color:#000;
  padding:16px 26px;
  border-radius:40px;
  font-weight:700;
  cursor:pointer;
  z-index:200;
}

/* CART DRAWER */
#cartDrawer{
  position:fixed;
  top:0;
  right:-420px;
  width:400px;
  height:100%;
  background:#0e1411;
  border-left:1px solid var(--border);
  padding:26px;
  transition:.4s;
  z-index:300;
}
#cartDrawer.open{right:0}
.cart-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  margin:14px 0;
  font-size:14px;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:500;
}
.modal-content{
  background:#121915;
  border-radius:22px;
  max-width:760px;
  width:95%;
  display:grid;
  grid-template-columns:1fr 1fr;
  overflow:hidden;
  animation:pop .4s ease;
}
@keyframes pop{
  from{transform:scale(.9);opacity:0}
  to{transform:scale(1);opacity:1}
}
.modal img{width:100%;height:100%;object-fit:cover}
.modal-body{padding:26px}
.qty{
  display:flex;
  gap:12px;
  margin:12px 0;
}
textarea{width:100%;border-radius:12px;padding:10px}

/* BUTTON */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:var(--gold);
  font-weight:700;
  cursor:pointer;
}

/* FOOTER */
footer{
  text-align:center;
  padding:60px 20px;
  color:var(--muted);
  border-top:1px solid var(--border);
}
</style>
</head>

<body>

<header>
  <h1>Asian Basil</h1>
  <p>NEPALI & ASIAN CUISINE</p>
</header>

<nav>
  <a href="#veg">VEG</a>
  <a href="#nonveg">NON-VEG</a>
  <a href="#momo">MO:MO</a>
  <a href="#chowmein">CHOWMEIN</a>
  <a href="#reservation">RESERVATION</a>
</nav>

<section id="veg">
<h2>Veg Starters</h2>
<div class="grid" id="vegGrid"></div>
</section>

<section id="momo">
<h2>Mo:Mo</h2>
<div class="grid" id="momoGrid"></div>
</section>

<section id="chowmein">
<h2>Chowmein</h2>
<div class="grid" id="chowGrid"></div>
</section>

<section id="reservation">
<h2>Reservation</h2>
<p>ðŸ“ž Call or WhatsApp us to reserve a table</p>
<button onclick="window.open('https://wa.me/351920629279')">Chat with Boss</button>
</section>

<footer>
Asian Basil<br>
Av. Campo da Boa EsperanÃ§a 40 R/C<br>
7630-033 Boavista dos Pinheiros
</footer>

<div id="cartBtn">CART (0)</div>

<div id="cartDrawer">
  <div class="cart-header">
    <h3>Your Order</h3>
    <button onclick="toggleCart()">âœ•</button>
  </div>
  <div id="cartItems"></div>
  <hr>
  <label>
    <input type="checkbox" id="confirmCheck"> I confirm my order
  </label>
  <br><br>
  <button onclick="pay()">Pay & Order</button>
</div>

<div class="modal" id="itemModal"></div>

<script>
/* ðŸ”´ CHANGE THIS */
const BACKEND_URL = "https://asian-basil.onrender.com";

/* MENU (SAMPLE â€“ YOU CAN EXTEND FULL MENU SAME WAY) */
const menu = [
  {cat:"veg",name:"Samosa",price:1.8,img:"images/samosa.jpg"},
  {cat:"veg",name:"Aalu Sadheko",price:5,img:"images/aalu.jpg"},
  {cat:"momo",name:"Steam Mo:Mo (Chicken)",price:5.5,img:"images/momo.jpg"},
  {cat:"chow",name:"Chicken Chowmein",price:6,img:"images/chow.jpg"}
];

const cart = [];

menu.forEach(i=>{
  const card=document.createElement("div");
  card.className="card";
  card.innerHTML=`
    <img src="${i.img}">
    <div class="card-body">
      <h3>${i.name}</h3>
      <span>â‚¬${i.price.toFixed(2)}</span>
    </div>`;
  card.onclick=()=>openItem(i);
  document.getElementById(i.cat+"Grid").appendChild(card);
});

function openItem(i){
  itemModal.innerHTML=`
  <div class="modal-content">
    <img src="${i.img}">
    <div class="modal-body">
      <h3>${i.name}</h3>
      <strong>â‚¬${i.price.toFixed(2)}</strong>
      <div class="qty">
        Qty: <input id="q" type="number" value="1" min="1">
      </div>
      <textarea id="note" placeholder="Custom request?"></textarea>
      <button onclick="add('${i.name}',${i.price})">Add</button>
    </div>
  </div>`;
  itemModal.style.display="flex";
}

function add(n,p){
  cart.push({
    name:n,
    price:p,
    quantity:document.getElementById("q").value,
    note:document.getElementById("note").value
  });
  itemModal.style.display="none";
  updateCart();
}

function updateCart(){
  cartItems.innerHTML="";
  cart.forEach(i=>{
    cartItems.innerHTML+=`<div class="cart-item"><span>${i.name} x${i.quantity}</span><span>â‚¬${(i.price*i.quantity).toFixed(2)}</span></div>`;
  });
  cartBtn.textContent=`CART (${cart.length})`;
}

function toggleCart(){
  cartDrawer.classList.toggle("open");
}

cartBtn.onclick=toggleCart;

function pay(){
  if(!confirmCheck.checked){
    alert("Please confirm your order");
    return;
  }
  fetch(BACKEND_URL+"/create-checkout-session",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({items:cart})
  })
  .then(r=>r.json())
  .then(d=>window.location.href=d.url);
}

window.onclick=e=>{
  if(e.target===itemModal)itemModal.style.display="none";
};
</script>

</body>
</html>
